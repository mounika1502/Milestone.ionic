<ion-header>
  <ion-toolbar >
    <ion-buttons slot="start" >
      <ion-menu-button  style="color:white" menu="main-menu"></ion-menu-button>
  
    </ion-buttons>
   
    <div align="center">
    <div style=" display:flex; justify-content:center;align-items:center;text-align:center; width:150px; height:60px;">
      <ion-img src="/assets/Mile.png" style="width: 100px; "></ion-img>
     </div>
     </div>
  </ion-toolbar>
</ion-header>
  <ion-content [fullscreen]="true">
    <ion-searchbar></ion-searchbar>
    <br>
    <div class="container">
      <ion-row>
        <ion-segment [scrollable]="true" value="home">
    
        
          <ion-col>
            <ion-segment-button checked value="home" (click)="placed()">
              <ion-label><h4>New Orders</h4></ion-label>
            </ion-segment-button>
          </ion-col>
          <ion-col>
            <ion-segment-button value="star" (click)="inprogress()">
              <ion-label><h4>Shipped</h4></ion-label>
            </ion-segment-button>
          </ion-col>
       
          <ion-col>
            <ion-segment-button value="call" (click)="Shipped()">
              <ion-label><h4>Delivered</h4></ion-label>
            </ion-segment-button>
          </ion-col>
        </ion-segment>
      </ion-row>
    </div>

   <br>
  <span style="color:gray">Count:</span><span style="color:black;font-weight: 800;">{{count}}</span>
  <ion-col class="panel-body"  *ngFor="let test of order| filter : searchtext ">  <br>                  
    <ion-col *ngFor="let data of test.OrderData.OrderItems" >
      <ion-card style="border:
      1px solid #697184">
        <ion-card-subtitle style="color: #2778c4;padding: 1%;">Order Id : {{test.OrderData.OrderId}}</ion-card-subtitle>
        <ion-card-subtitle style="color: #2778c4;padding: 1%;">Placed On : {{data.date}}</ion-card-subtitle>
  <ion-card>
    <img  src="{{data.filePath}}"  class="card-img-top" style="height:11rem;width:100%" />
    <br>
   
    <ion-row >
      <ion-col style="color:#385291;font-weight: 700;">&nbsp;{{data.name}}</ion-col>
      <ion-col style="font-weight: 1000;margin-right: -7em;color: green;">Total : ₹  {{data.price * data.qnt}}</ion-col>
    </ion-row>
     
    <ion-card-header>
      <ion-row>
        <ion-col style="font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;color: black;">Price</ion-col>
        <ion-col > : ₹{{data.price}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col style="font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;color: black;">Quantity</ion-col>
        <ion-col > : {{data.qnt}}</ion-col>
        
      </ion-row>
      <ion-row>
        <ion-col style="font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;color: black;">Status</ion-col>
        <ion-col > : {{data.OrderStatus}}</ion-col>        
      </ion-row>     
    
      <ion-row>
        <ion-col style="font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;color: black;">Deliver To</ion-col>
        <ion-col [hidden]="data.OrderStatus == 'Delivered'"> : {{data.ApproximateTime}}</ion-col>        
      </ion-row>
<!-- 
      <ion-row >
       <h3 style="color: black;">Total : </h3><h3 style="color: green;">₹  {{data.price * data.qnt}}</h3>
         <ion-col > :₹  {{data.price * data.qnt}}</ion-col>         
      </ion-row> -->

      <ion-card-title style="color:black;font-weight: 700;font-size: 20px;text-decoration: underline;">Shipping Details</ion-card-title>
      <br>
      <ion-row >
        &nbsp;  {{test.OrderData.Phone}}<br>
       &nbsp;  {{test.OrderData.Address}},{{test.OrderData.pincode}},{{test.OrderData.State}}
      </ion-row>
    </ion-card-header>
  
    <ion-card-content>
      <button  (click)="orders(data,test._id,data._id)"  expand="block" (click)="setOpen(true)"      [(ngModel)]="data.OrderStatus" class="form-label button" for="lastName" [hidden]="data.OrderStatus == 'Delivered'" style="margin-left: 30%;">Update Status</button>
      <ion-modal [isOpen]="isModalOpen">
        <ng-template>
          <ion-header>
            <ion-toolbar>
          
              <ion-buttons slot="end">
                <ion-button (click)="setOpen(false)">Close</ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ion-header>
          <br>
          <br>
          <br>
          <br>
          <br>
          <h1 style="font-size: xx-large;font-weight: bold;font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;text-align: center;">Update Status</h1>
          <ion-content class="ion-padding">
            <ion-card style="border: 1px solid #697184;padding: 3%;">
            <form [formGroup]="orderdata">
          <ion-select style="text-align: center;" [(ngModel)]="data.OrderStatus" formControlName="OrderStatus" placeholder="Order Status">
           
            <ion-select-option value="Placed">Placed</ion-select-option>
            <ion-select-option value="Shipped">Shipped</ion-select-option>
            <ion-select-option value="Delivered">Delivered</ion-select-option>
          </ion-select>
          <ion-select style="text-align: center;" [(ngModel)]="data.ApproximateTime" formControlName="ApproximateTime" placeholder="Delivery Time">
        
            <ion-select-option value="Within 1week">within 1week</ion-select-option>
            <ion-select-option value="Within 5days">within 5days</ion-select-option>
            <ion-select-option value="Arriving Today">Arriving Today</ion-select-option>
          </ion-select>
          </form>
          </ion-card>
          <div class="mt-4 pt-2 text-center ">
            <button class="btn btn-secondary btn-lg" type="submit"  (click)="Update()">Update</button>
          </div>
          </ion-content>
        </ng-template>
      </ion-modal>
    </ion-card-content>

  </ion-card>
  <!-- <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <h1 style="text-align: center;font-size: x-large;font-weight: 900;">Update Status</h1> 
        <br>
        <form [formGroup]="orderdata">
        <div class="row text-white"> 
            <div class="row text-white">
              <div class="col-md-12 mb-4">

                <select type="text" class=" form-control-lg" style="color:black; margin-left:5%;" [(ngModel)]="data.OrderStatus" formControlName="OrderStatus" name="OrderStatus"  >
                  <option value="Placed">Placed&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>
                  <option value="Shipped">Shipped&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>
                  <option value="Delivered">Delivered&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>
                </select>                    
              </div>
            </div>  
            <div class="row text-white">
              <div class="col-md-12 mb-4">
                <label class="form-label" for="lastName" style="color:rgb(36, 36, 36);font-size: larger;margin-left: 18%;">Delivery Time:</label>
                <select type="text" class=" form-control-lg" style="color:black;margin-left:3%;" [(ngModel)]="data.ApproximateTime" formControlName="ApproximateTime" name="ApproximateTime"  >
                  <option value="Within 1week">Within 1week</option>
                  <option value="Within 5days">Within 5days</option>
                  <option value="Arriving Today">Arriving Today</option>
                </select>                    
              </div>
              <div class="mt-4 pt-2 text-center ">
                <button class="btn btn-secondary btn-lg" type="submit"  (click)="Update()">Update</button>
              </div>
            </div> 
        </div> 
      </form>       
      
      </div>
    </div>
  </div> -->
  </ion-card>
  
</ion-col>

</ion-col>

 
 





 
</ion-content>
